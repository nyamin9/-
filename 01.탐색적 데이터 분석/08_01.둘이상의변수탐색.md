# 🎰 08_01. 변수 간 상관관계분석  

🎲 일변량분석 : 한 번에 하나의 변수를 다루는 경우 - 평균/분산과 같은 추정값  

🎲 이변량분석 : 주 변수를 비교할 때 사용 - 상관분석  

🎲 다변량분석 : 셋 이상의 변수 비교  

🎲 이변량분석 혹은 다변량분석의 형태는 데이터가 수치형인가 범주형인가에 따라 달라짐  

🎲 용어 정리  

- 분할표 (contingency table) : 두 가지 이상의 볌주형 변수의 빈도수를 기록한 표  
   
- 육각형 구간 (hexagonal binning) : 두 변수를 육각형 모양의 구간으로 나눈 그림  
   
- 등고 도표 (contour plot) : 두 변수의 밀도를 등고선으로 표시한 도표  
   
- 바이올린 도표 (violin plot) : 밀도 추정까지 보여주는 Box plot  
   
    
***  

## 🎰 08.01. 수치형변수 vs 수치형변수 : Hexagonal Binning / Contour plot  


🎲 산점도는 데이터의 개수가 상대적으로 적은 경우에는 괜찮음  

🎲 하지만 수백만개의 레코드를 나타내기에는 산점도의 점들이 너무 밀집되어 알아보기 어려움  

🎲 따라서 이러한 관계를 나타내는 다른 방법이 필요함  

<br>  

### 🎰 08.01.01. Hexagonal Binning  

- 레코드를 점으로 나타내는 대신 기록값을 욱각형 모양의 구간들로 나누고 각 구간에 포함된 기록값의 개수에 따라 색을 표시함  
   
   
<p align="center"><img src="https://user-images.githubusercontent.com/65170165/211202556-ade6f464-2ac7-47df-bf97-edd6dc729ebd.png" width="600" /></p><br>  

***  


### 🎰 08.01.02. Contour plot  

- 두 수치형 변수 간 관계를 시각화하기 위해 산점도 위에 등고선을 사용함  
   
- 한 등고선 위의 점들은 밀도가 같음  
   
- 꼭대기 쪽으로 갈수록 밀도가 높아짐을 의미함  
    
<p align="center"><img src="https://user-images.githubusercontent.com/65170165/211203104-5ed5793a-e8eb-444b-9ee7-cd98298409ce.png" width="600" /></p><br>  
  

## 🎰 08.02. 범주형변수 vs 범주형변수 : 분할표  

🎲 분할표  

- 두 범주형 변수를 요약하는 데 효과적인 방법으로, 범주별 빈도수를 기록한 표임  
   
- 분할표를 통해 각 열의 빈도와 백분율을 볼 수 있음  
   
```
======================================================================
                  lc_loans$status
lc_loans$grade    Charged Off   Current   Fully Paid     Late    Total
----------------------------------------------------------------------
A                        1562     50051        20408      469    72490
                        0.022     0.690        0.282    0.006    0.161
----------------------------------------------------------------------
B                        5302     93852        31160     2056   132370
                        0.040     0.709        0.235    0.016    0.294
----------------------------------------------------------------------
C                        6023     88928        23147     2777   120875
                        0.050     0.736        0.191    0.023    0.268
----------------------------------------------------------------------
D                        5007     53281        13681     2308    74277
                        0.067     0.717        0.184    0.031    0.165
----------------------------------------------------------------------
E                        2842     24639         5949     1374    34804
                        0.082     0.708        0.171    0.039    0.077
----------------------------------------------------------------------
F                        1526      8444         2328      606    12904
                        0.118     0.654        0.180    0.047    0.029
----------------------------------------------------------------------
G                         409      1990          643      199     3241
                        0.126     0.614        0.198    0.061    0.007
----------------------------------------------------------------------
Total                   22671    321185        97316     9789   450961
======================================================================
```  

## 🎰 08.03. 범주형변수 vs 수치형변수 : Box plot / Violin plot  

### 🎰 08.03.01. Box plot  

- 범주형 변수에 따라 분류된 수치형 변수의 분포를 시각화하여 비교하는 간단한 방법임  
   
<p align="center"><img src="https://user-images.githubusercontent.com/65170165/211204352-08b48978-9ca2-49ae-ab55-b5c689646ffd.png" width="400" /></p><br>  

***  

### 🎰 08.03.02. Violin plot  

- Box plot을 보완한 형태  
   
- y축을 따라 밀도추정의 결과를 동시에 시각화함  
   
- 밀도 분포 모양을 좌우대칭으로 서로 겹쳐지도록 하면 바이올린 형태가 됨  
   
- Box plot 에서는 보이지 않는 데이터의 분포를 볼 수 있음. 다만 Box plot은 특잇값을 좀 더 명확히 보여줌  
   
<p align="center"><img src="https://user-images.githubusercontent.com/65170165/211204831-57a84204-ff57-4426-8753-caeabc2044cb.png" width="400" /></p><br>  

   
## 🎰 08.04. 다변수 시각화하기 : 조건화  

- 조건화를 통해 두 변수 비교 결과(산점도, Hexagonal Binning, Box plot)에 조건화 변수를 적용하여 여러 변수를 비교하는 용도로 확장하여 활용 가능함  

- 예를 들어 주택의 단위 넓이 당 과세 금액을 나타낸 결과에 우편번호라는 조건화 변수를 적용하여 도식화가 가능함  
   
<p align="center"><img src="https://user-images.githubusercontent.com/65170165/211206520-513a737d-181b-44e4-b820-e587995c3d3a.png" width="600" /></p><br>  

***  


      


    

 
