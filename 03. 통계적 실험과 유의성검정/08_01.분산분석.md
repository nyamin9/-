# 🎰 08_01. 분산분석  

🎲 분산분석 : 여러 그룹 간 (A/B/C/D)의 통계적으로 유의미한 차이를 검정하는 통계적 절차 - ANOVA  

<br>  


🎲 용어 정리  

- 쌍별 비교 (pairwise comparison) : 여러 그룹 중 두 그룹 간의 가설검정  
   
- 총괄검정 (omnibus test) : 여러 그룹 평균들의 전체 분산에 관한 단일 가설검정  
   
- 분산분해 (decomposition of variance) : 구성 요소 분리. 예를 들어 개별 값은 전체 평균, 처리 평균, 잔차 오차로 구성됨  
   
- F 통계량 (F-statistic) : 그룹 평균 간의 차이가 랜덤 모델에서 예상되는 것에서 벗어나는 정도를 측정하는 표준화된 통계량  
   
- SS (sum of squares) : 어떤 평균으로부터의 편차들의 제곱합  
   
<br>  

🎲 데이터 예시  

|-|Page 1|Page 2|Page 3|Page 4|-|  
|-|-|-|-|-|-|  
||164|178|175|155||  
||172|191|193|166||  
||177|182|171|164||  
||156|185|163|170||  
||195|177|176|168||  
|average|172|185|176|162||  
|Grand average|||||173.75|  

<br>  


🎲 4개 웹 페이지의 점착성, 즉 방문자가 페이지에서 보낸 시간을 초 단위로 보여주는 데이터.  

🎲 변하는 요소가 점착성 하나인 일원 ANOVA  


🎲 각 페이지는 무작위로 전환되며 각 웹 방문자 5인은 무작위로 그 중 한 곳에 접속됨  

🎲 보통 임의표본추출을 위해서는 우리가 표본을 선택하지만, 이러한 상황에서는 우리의 선택으로 표본을 구성할 수 없음  

🎲 따라서 방문자가 오는 대로 바로 대상이 되며, 방문자는 시간대, 요일, 계절, 인터넷 환경, 사용하는 장치 등에 따라 체계적으로 다를 수 있음.  

🎲 실험 결과 검토 시 이러한 요소들을 잠재적 편향의 요인으로 고려해야 함  

🎲 일반적으로 우리가 원하는 그룹의 비교 문제는 각 페이지 별 비교로 이뤄지므로, 이 데이터는 총 6가지의 비교가 가능함  

- 1 / 2 페이지 비교  
   
- 1 / 3 페이지 비교  
   
- 1 / 4 페이지 비교  
   
- 2 / 3 페이지 비교  
   
- 2 / 4 페이지 비교  
   
- 3 / 4 페이지 비교    
   
🎲 하지만 이렇게 비교횟수가 증가할수록 우연히 일어난 일에 의미를 부여할 가능성이 커지므로, 이를 보완할 다른 비교방법이 필요함  

🎲 따라서 개별 페이지 간의 가능한 모든 비교 대신, ‘모든 페이지가 동일한 점착성을 갖는가? 그리고 이들 사이의 차이는 우연에 의한 것이고 원래 4개의 페이지에 할당된 세션 시간 역시 무작위로 할당된 것인가?’라는 질문을 다루는 전체적인 총괄검정을 할 수 있음  

<br>  


🎲 이때 분산분석, 즉 ANOVA를 수행함  

🎲 이에 대한 재표본추출 과정은 아래와 같음  

1. 모든 데이터를 한 상자에 모음  
2. 5개의 값을 갖는 4개의 재표본을 섞어 추출  
3. 각 그룹의 평균 기록  
4. 네 그룹 평균 사이의 분산을 기록  
5. 2 ~ 4단계를 여러 번 반복  
   
🎲 이때 재표본추출한 분산이, 관찰된 변화를 초과한 시간의 정도가 p-value 임  

<br>  

***  

## 🎰 08.01. F 통계량  

🎲 두 그룹 간의 평균 비교를 위해 순열검정 대신 t 검정을 사용할 수 있는 것처럼, F 통계량을 기반으로 한 ANOVA 통계 검정도 존재함  

🎲 F 통계량은 잔차 오차 (residual error) 로 인한 분산과 그룹 평균(처리 효과)의 분산에 대한 비율을 기초로 함  

🎲 위의 비율이 높을수록 통계적으로 유의미함  

🎲 만약 데이터가 정규분포를 따르면, F 통계량은 특정 분포를 따르게 되어 있음. 이를 토대로 p-value 계산이 가능함  

🎲 F 통계량 = (처리 효과의 평균제곱오차) / (평균제곱편차)  

🎲 표분 F 분포와 위의 비율을 비교하여 그룹 평균 간 차이가 랜덤 변이에서 예상되는 것보다 큰지 여부를 결정함  

<br>  

***  

## 🎰 08.02. 이원 분산분석  

🎲 만약 주말 / 평일에 따라 달라지는 통계량까지 고려한다면 이때는 일원 분산분석이 아닌 이원 분산분석을 진행  

🎲 전체 데이터의 총평균 효과와 처리 효과를 확인한 후, 각 그룹의 주말과 평일 데이터를 분리해 그 부분집합들에 대한 평균과 처리 평균 사이의 차이를 찾아봄  

🎲 상호작용 효과를 알아낼 수 있다는 장점이 존재함  

<br>  

***  

