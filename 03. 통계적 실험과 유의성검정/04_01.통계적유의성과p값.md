# 🎰 04_01. 통계적 유의성과 p 값  

🎲 통계적 유의성 : 실험의 결과가 우연히 일어난 것인지 우연히 일어날 수 없는 것인지 판단하는 방법  

🎲 그 결과가 우연히 벌어질 수 있는 확률분포의 variant 바깥쪽에 존재하는 경우 통계적으로 유의함  

<br>  

🎲 용어 정리  

- p-value : 귀무가설을 구체화한 확률 모델이 주어졌을 때 특이하거나 극단적인 결과를 얻을 확률  
   
- 유의수준 (ɑ) : 실제 결과가 통계쩍으로 의미 있을 것으로 판단되기 위해 우연에 의한 결과가 초과해야 하는 비정상적인 가능성의 임계 확률  
   
- 제 1종 오류 : 우연에 의한 결과를 실제 효과라고 잘못 결론 내리는 것  
   
- 제 2종 오류 : 실제 효과를 우연에 의한 효과라고 잘못 결론 내리는 것  
   
<br>  

***  

 
| 결과 | 가격A | 가격B |   
| -- | -- | -- |  
|구매|200|182|  
|구매하지 않음|23,539|22,406|  

🎲 가격 A 구매율 : (200 / (23539 + 200)) * 100 = 0.8425%  

🎲 가격 B 구매율 : (182 / (22406 + 182)) * 100 = 0.8057%  


🎲 가격A는 가격B보다 나은 결과를 보여줌 -> 약 0.0368%p 개선  

🎲 데이터의 크기가 크기 때문에 주로 작은 표본에서 표본의 변동성을 설명하기 위해 사용하는 통계쩍 유의성검정이 필요 없을 수도 있음  


🎲 하지만 각 가격에 대한 구매율이 너무 낮기 때문에 실제 필요한 표본 크기를 정하는 값인 구매 횟수는 너무 적음  

🎲 이때 재표본추출을 사용해 가격 A와 B 사이의 구매율 차이가 우연에 의한 것인지 검정할 수 있음  

🎲 여기서 우연에 의한 차이는 두 구매 수 간의 차이가 없다는 귀무가설의 확률모형을 가지고 만든 데이터의 랜덤 변이를 의미함  

🎲 이 데이터의 재표본추출 절차는 아래 순열 과정을 통해 구해짐  

<br>  


1. 0과 1이 적힌 카드를 박스에 넣음. 0을 비구매, 1은 구매를 의미함.  
2. 전체 구매율은 45945 개의 0 과 382개의 1로 0.8246%라고 할 수 있음  
3. 가격 A의 크기(23,739개) 만큼의 표본을 뽑고, 그 중 1이 몇 개인지 기록  
4. 나머지 가격 B만큼의 크기를 가진 표본 22,588개에서 1의 수를 기록  
5. 두 표본 간 1의 비율 차이를 기록  
6. 3~4단계를 반복  
7. 이 차이가 얼마나 자주 0.0368 이상의 값인지 파악  
   
<br>  

***  

## 🎰 01. p 값  

🎲 그래프를 눈으로 보는 것보다 p 값과 같이 통계적 유의성을 정확히 측정하기 위한 지표가 필요  

🎲 이는 확률모형이 관측된 결과보다 더 극단적인 결과를 생성하는 빈도라고 할 수 있음  

🎲 즉 순열검정으로 얻은 결과 중에서, 관찰된 차이와 같거나 더 큰 차이를 보이는 경우의 비율로 p 값을 추정할 수 있음  

<br>  

***  

## 🎰 02. 유의수준  


🎲 일반적으로 어던 결과가 우연히 발생했는지 진짜 예외적인 것인지 결정하기 위해서 우연히 얻은(귀무가설) 결과의 5%보다 더 극단적인 결과와 같이 어떤 임곗값 (5%)을 미리 지정하고 유의성을 검정함  

🎲 이 임곗값을 유의수준 혹은 알파라고 부름 -> 귀무가설 모델에서 비정상이라고 판단할 임계값  


🎲 주로 사용되는 유의수준은 5%와 1%이며, 보통 이 값은 임의로 선택됨  

🎲 확률 문제는 ‘사건이 우연히 일어날 확률은 무엇인가?’ 가 아니라 ‘랜덤 모델이 주어졌을 때, 극단적인 결과가 나올 확률은 어느 정도인가?’ 이기에 랜덤 모델의 적합도에 관해 역으로 추적하는 것이고, 그에 대한 판단은 어떤 확률로 나타나지 않음  

🎲 따라서 일반적으로 우리는 p-value를 통해 결과가 우연에서 비롯될 확률을 전달하고자 하지만 실제 의미는 결과가 주어진 랜덤 모델에서 관찰된 결과보다 더 극단적일 확률임.  

🎲 이러한 문제점 때문에 p-value는 여러가지 오해들을 가지고 있음  

🎲 또한 결과가 통계적으로 유의미하다고해서 실제적으로 유의미하다는 뜻은 아님. 실질적으로 의미가 없는 작은 차이라도 표본이 충분히 클 경우 통계적으로 유의하다는 결과가 나올 수 있음. 또한 우연이 아니라고 해서 본질적으로 중요하지 않은 결과가 중요해지는 것은 아님  

<br>  

***  

## 🎰 03. 제1종과 제2종 오류  

🎲 통계적 유의성을 평가할 때는 두 가지 유형의 오류가 발생할 수 있음  

 - 1종 오류: 어떤 효과가 우연히 발생한 것인데, 그것이 사실이라고 잘못 판단하는 경우  
    
 - 2종 오류: 어떤 효과가 실제로 있는 것인데, 그것이 우연히 발생한 것이라고 잘못 판단하는 경우  
    
 🎲 유의성검정 (가설검정)의 기본 기능은 어쩌다 우연히 일어난 일에 속지 않도록 하는 것이기에 보통 1종 오류를 최소화하도록 가설을 설계함  
 
<br>  

***  

## 🎰 04. p-value의 진짜 의미  

🎲 결론적으로 p-value는 관심 있고 유용한 모델의 결과가 일반적인 랜덤 변이의 범위 내에 있는지를 알고 싶을 때 유용한 측정 지표일   

🎲 따라서 p 값을 모든 실험에서 의사 결정을 좌우하는 도구로서 간주해서는 안 됨  

<br>  

***  


